apply plugin: 'com.android.library'

android {
    compileSdkVersion nusicCompileSdkVersion
    buildToolsVersion nusicBuildToolsVersion

    defaultConfig {
        minSdkVersion nusicMinSdkVersion
        targetSdkVersion nusictTargetSdkVersion
        versionCode nusicVersionCode
        versionName project.version
    }
    buildTypes {
        release {
            minifyEnabled false
            // TODO no proguarding here, only in nusic-apk?!
            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
        }
    }
}

// TODO resource filtering: MD files, assets, constants
// TODO privacy Policy (wagon plugin?)
// TODO MD generation (MD plugin?)

dependencies {
    compile group: 'org.roboguice', name: 'roboguice', version:'3.0.1'
    compile(group: 'com.github.tony19', name: 'logback-android-classic', version:'1.1.1-3') // TODO exclude android
    //{ exclude(module: 'android') }
    compile group: 'com.nostra13.universalimageloader', name: 'universal-image-loader', version:'1.9.2'
  compile project(':nusic-data-api')
  compile project(':nusic-core-api')
  compile project(':nusic-util')
    compile group: 'commons-io', name: 'commons-io', version:'2.4'
    compile group: 'org.slf4j', name: 'slf4j-api', version:'1.7.6'
    compile group: 'com.android.support', name: 'design', version:'23.1.1'
    testCompile group: 'junit', name: 'junit', version:'4.12'
    testCompile group: 'org.robolectric', name: 'android-all', version:'5.0.0_r2-robolectric-1'
    testCompile group: 'org.robolectric', name: 'robolectric', version:'2.4'

    // Enable annotation database to improve performance
    provided 'org.roboguice:roboblender:3.0.1'
}

project.tasks.withType(JavaCompile) { task ->
    options.compilerArgs << "-AguiceAnnotationDatabasePackageName=${project.group}.annotation.apk"
}
